<div class="shell-layout" [class.sidebar-collapsed]="!sidebarOpen()">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo-area" [class.hidden]="!sidebarOpen()">
        <img src="favicon.ico" class="logo-icon" alt="Angular Logo" />
        <div>
          <p class="logo-title">Angular Master</p>
          <p class="logo-subtitle">React â†’ Angular Guide</p>
        </div>
      </div>
      <button
        class="toggle-btn"
        (click)="toggleSidebar()"
        [title]="sidebarOpen() ? 'Collapse sidebar' : 'Expand sidebar'"
      >
        <span>{{ sidebarOpen() ? 'â—€' : 'â–¶' }}</span>
      </button>
    </div>

    <nav class="sidebar-nav">
      @for (category of categories; track category) {
        <div class="nav-category">
          @if (sidebarOpen()) {
            <p class="category-label">{{ category }}</p>
          }
          @for (item of getItemsByCategory(category); track item.path) {
            <a
              [routerLink]="item.path"
              routerLinkActive="nav-link-active"
              class="nav-link"
              [title]="!sidebarOpen() ? item.label : ''"
            >
              <span class="nav-icon">{{ item.icon }}</span>
              @if (sidebarOpen()) {
                <span class="nav-label">{{ item.label }}</span>
              }
            </a>
          }
        </div>
      }
    </nav>

    <div class="sidebar-footer">
      @if (sidebarOpen()) {
        <div class="user-info">
          <div class="user-avatar">{{ user()?.name?.[0]?.toUpperCase() ?? 'U' }}</div>
          <div class="user-details">
            <p class="user-name">{{ user()?.name }}</p>
            <p class="user-email">{{ user()?.email }}</p>
          </div>
        </div>
      }
      <button class="logout-btn" (click)="logout()" [title]="!sidebarOpen() ? 'Logout' : ''">
        <span>ðŸšª</span>
        @if (sidebarOpen()) {
          <span>Logout</span>
        }
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-wrapper">
    <header class="topbar">
      <div class="topbar-left">
        <button class="mobile-toggle" (click)="toggleSidebar()" aria-label="Toggle sidebar">
          â˜°
        </button>
        <div class="breadcrumb">
          <span class="breadcrumb-home">Angular Master</span>
          <span class="breadcrumb-sep">/</span>
          <span class="breadcrumb-current">{{ currentPageTitle() }}</span>
        </div>
      </div>
      <div class="topbar-right">
        <span class="version-badge">
          <span class="badge-dot"></span>
          Angular 21 + Signals
        </span>
      </div>
    </header>
    <main class="main-content">
      <router-outlet />
    </main>
  </div>
</div>
